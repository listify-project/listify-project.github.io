# Listify - Project Overview

## Description
The idea is to create a website that uses Spotify’s API in order to manage playlists (edit existing playlists and create a new playlist). The main target is to add functionality so that users have more options when editing their playlist. We identified that the typical user is someone who has multiple playlists and wants to manage them by categorizing songs based on their relatedness and editing each playlist to their specific needs. The secondary focus will be to have a gallery page where the user’s collections and preferences are displayed.

## What is done?
- [X] Set up basic development environment with framework code
- [X] Set up Redux with react-redux and redux-saga
- [X] Initial application routing
- [X] Authorization flow through Spotify
- [X] Test API call and show data
- [X] Initial views for landing page and authorized page
- [X] UI design (in [Figma](https://www.figma.com/file/DTu1vWrpTdY3E09zU7yXue/Prototype?node-id=304183%3A544)), initial layout and navigation flow of website
- [X] Mapping of user interactions (also in Figma) to each page
- [X] Architectural design of View/Presenter combination and separately modeling of the data
- [X] Three user tests performed to evaluate the design concept and website's usability
- [X] Deployment to GitHub Pages

## What is planned to do?
- [ ] High-fidelity design of UI
- [ ] Implementation of views based on Figma design
- [ ] Redux actions for all user interaction and data retrieval
- [ ] Retrieve and store data from/to Redux with presenters
- [ ] Persistence of application state in Firebase
- [ ] Add modules in Redux store for playlists, tracks, and user
- [ ] Refactor routing to display everything at root path '/'

## File structure

### `public/`
Contains the files that will be served by the Node.js server, both in development and production mode.

### `src/`
Contains all the code for the project.

- `App.js` - Routing logic of the App
- `App.scss` - SASS-styling of App
- `App.test.js` - Generated by CRA (virtually unused)
- `index.js` - Script that combines the App, Redux store, and Router, then injects into the .html-file that is served.
- `index.scss` - Project-wide styling, including Bootstrap theme customization
- `reportWebVitals.js` - Generated by CRA (virtually unused)
- `setupTests.js` - Generated by CRA (virtually unused)
- `shared.scss` - Global styling variables that can be imported anywhere in the project to ensure consistency

#### `src/api/`
Contains code related to everything API related (Spotify + Firebase).

- `firebaseConfig.js` - Config options for the Firebase app used for persistence.
- `spotifyAuth.js` - Everything required for authorizing through the Spotify Web API
- `spotifyUser.js` - API calls for retrieving metadata about the user, e.g. username
- `spotifyUtil.js` - Abstract function for handling all data retrieval from the Spotify Web API

#### `src/presenters/`
Contains code for all Presenter components in our MVP-architecture.

- `AuthorizedPresenter.js` - Gets appropriate data for the authorized view. Redirects user to the landing page if no token has been retrieved.
- `LoginPresenter.js` - Handles authorization redirects from Spotify, i.e. when the user has logged in (or failed to do so). Redirects accordingly.
- `StartPresenter.js` - Gets appropriate data for the landing page.

#### `src/state/`
Contains code for the Redux store.

- `rootReducer.js` - Combines the different modules and their handlers.
- `rootSaga.js` - Combines the different modules and their asynchronous actions/events.
- `store.js` - Combines the root reducer, the root saga, and when in development mode applies the Redux Devtools extension.
- `utils.js` - Helper functions for creating actions, action types, and reducers.

##### `src/state/{module}/`
Contains Redux code for a specific module with name `module`. Currently only `auth` actually does something.

- `{module}Actions.js` - Defines the actions as functions (also known as "action creators") to ensure that they get the correct arguments/payloads.
- `{module}Reducer.js` - Contains the initial state of the data in the module and the handlers for all the different action types for the module.
- `{module}Sagas.js` - Contains functions (sagas) that runs as middleware to handle all asynchronous logic of actions (i.e. API calls).
- `{module}Types.js` - Constants that define what actions that exist in the module. Acts as an interface to ensure handlers etc. use the correct string to refer to the action.

#### `src/views/`
Contains code for all View components in our MVP-architecture.

- `AuthorizedView.js` - The View component for when the user is authorized through the Spotify API.
- `AuthorizedView.scss` - Stylesheet for AuthorizedView.js
- `StartView.js` - The View component for the landing page.
- `StartView.scss` - Stylesheet for StartView.js

---

# Development

## Getting Started
**TODO**

## Git workflow

### Branches
Create a branch from the latest version of `dev`. Commit on that branch. Regularly fetch the latest version of `dev` and run `git merge dev` from the separate branch.
- `master` - Used for course submissions (i.e. README).
- `dev` - Contains the latest version that developers use.
- `gh-pages` - Contains the compiled and deployed code to GitHub Pages (auto-generated by GitHub / gh-pages library)
- `deploy` - Used for tracking the code that is ran with `npm run deploy` and thus published to GitHub Pages.
- `feat/{name}` - Progress on feature described by `name`.

## Deployment
**TODO**

## Useful links

### [fuzzy-search](https://www.npmjs.com/package/fuzzy-search)
Package to handle quickly searching through a lot of data in objects, could be useful for filtering playlists and tracks inside playlists.

### Redux explanation and suggested conventions
https://betterprogramming.pub/my-awesome-react-redux-structure-6044e5007e22

### File structure inspiration
Based on ["The View-State Split"](https://www.pluralsight.com/guides/how-to-organize-your-react-+-redux-codebase#module-theviewstatesplit).

---

# *(Auto-generated by create-react-app)*
# Getting Started with Create React App

This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app).

## Available Scripts

In the project directory, you can run:

### `npm start`

Runs the app in the development mode.\
Open [http://localhost:3000](http://localhost:3000) to view it in the browser.

The page will reload if you make edits.\
You will also see any lint errors in the console.

### `npm test`

Launches the test runner in the interactive watch mode.\
See the section about [running tests](https://facebook.github.io/create-react-app/docs/running-tests) for more information.

### `npm run build`

Builds the app for production to the `build` folder.\
It correctly bundles React in production mode and optimizes the build for the best performance.

The build is minified and the filenames include the hashes.\
Your app is ready to be deployed!

See the section about [deployment](https://facebook.github.io/create-react-app/docs/deployment) for more information.

## Learn More

You can learn more in the [Create React App documentation](https://facebook.github.io/create-react-app/docs/getting-started).

To learn React, check out the [React documentation](https://reactjs.org/).

### Code Splitting

This section has moved here: [https://facebook.github.io/create-react-app/docs/code-splitting](https://facebook.github.io/create-react-app/docs/code-splitting)

### Analyzing the Bundle Size

This section has moved here: [https://facebook.github.io/create-react-app/docs/analyzing-the-bundle-size](https://facebook.github.io/create-react-app/docs/analyzing-the-bundle-size)

### Making a Progressive Web App

This section has moved here: [https://facebook.github.io/create-react-app/docs/making-a-progressive-web-app](https://facebook.github.io/create-react-app/docs/making-a-progressive-web-app)

### Advanced Configuration

This section has moved here: [https://facebook.github.io/create-react-app/docs/advanced-configuration](https://facebook.github.io/create-react-app/docs/advanced-configuration)

### Deployment

This section has moved here: [https://facebook.github.io/create-react-app/docs/deployment](https://facebook.github.io/create-react-app/docs/deployment)

### `npm run build` fails to minify

This section has moved here: [https://facebook.github.io/create-react-app/docs/troubleshooting#npm-run-build-fails-to-minify](https://facebook.github.io/create-react-app/docs/troubleshooting#npm-run-build-fails-to-minify)